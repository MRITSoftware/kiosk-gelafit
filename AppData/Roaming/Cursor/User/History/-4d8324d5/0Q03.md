# Guia de Deploy na HostGator

Este guia explica como fazer o deploy do sistema de assinatura de PDF na HostGator.

## Pré-requisitos

1. Acesso SSH à sua conta HostGator
2. Node.js instalado (via Node Version Manager na HostGator)
3. Conta HostGator com suporte a Node.js (ou usar Passenger)

## Opção 1: Deploy com Passenger (Recomendado)

### Passo 1: Preparar arquivos localmente

```bash
# Instalar dependências
npm run install:all

# Build do frontend
npm run build
```

### Passo 2: Upload via FTP/SFTP

Faça upload dos seguintes arquivos para `public_html`:

```
public_html/
├── .htaccess
├── backend/
│   ├── .htaccess
│   ├── package.json
│   ├── src/
│   └── node_modules/ (ou instale via SSH)
└── frontend/
    └── dist/ (arquivos compilados)
```

### Passo 3: Configurar via SSH

```bash
# Conectar via SSH
ssh usuario@seudominio.com

# Navegar para o diretório
cd ~/public_html/backend

# Instalar dependências Node.js
npm install --production

# Verificar se Node.js está disponível
node --version
```

### Passo 4: Ajustar .htaccess

Edite o arquivo `.htaccess` na raiz e ajuste os caminhos:

```apache
PassengerAppRoot /home/seu_usuario/public_html/backend
PassengerNodejs /home/seu_usuario/nodevenv/public_html/backend/10/bin/node
```

Substitua `seu_usuario` pelo seu usuário real da HostGator.

### Passo 5: Configurar variáveis de ambiente

Crie um arquivo `.env` em `backend/`:

```env
NODE_ENV=production
PORT=3000
```

## Opção 2: Deploy Simples (Apenas Frontend Estático)

Se você não precisa do backend rodando na HostGator, pode usar apenas o frontend:

### Passo 1: Build do frontend

```bash
cd frontend
npm install
npm run build
```

### Passo 2: Upload

Faça upload da pasta `frontend/dist/` para `public_html/`

### Passo 3: Criar .htaccess

Crie um `.htaccess` em `public_html/`:

```apache
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ /index.html [L]
```

## Opção 3: Usar Serviço Externo para Backend

Você pode hospedar o frontend na HostGator e o backend em serviços como:
- Railway
- Render
- Heroku
- Vercel (serverless)

Ajuste a URL da API no frontend antes do build.

## Verificação

1. Acesse seu domínio: `https://seudominio.com`
2. Teste upload de PDF
3. Teste assinatura
4. Teste download do PDF assinado

## Troubleshooting

### Erro 500
- Verifique os logs do Passenger
- Confirme que Node.js está instalado
- Verifique permissões dos arquivos

### CORS Error
- Configure o CORS no backend para aceitar seu domínio

### PDF não carrega
- Verifique se o CDN do PDF.js está acessível
- Teste com arquivo PDF menor

## Suporte HostGator

Se tiver problemas, entre em contato com o suporte da HostGator mencionando:
- Você está usando Node.js
- Precisa de Passenger habilitado
- Aplicação está em `public_html/backend`

